{{ define "main" }}

    <main aria-role="main">
      <header class="homepage-header">
      </header>
      <div class="doi">
        <!-- Note that the content for index.html, as a sort of list page, will pull from content/_index.md -->
        {{ with .Site.Data.doi }}
          {{ with .top }}
            {{ partial "single/top.html" . }}
          {{ end }}
          
          {{ partial "doi/graphics_what.html" . }}

          {{ with .statistics }}
            {{ partial "doi/how_many.html" . }}
          {{ end }}
          
          
          {{ partial "doi/graphics_why.html" . }}

          {{ with .what }}
            {{ partial "doi/what.html" . }}
          {{ end }}
          
          {{ with .benefits }}
            {{ partial "doi/benefits.html" . }}
          {{ end }}

          
          {{ partial "doi/growth_graph.html" . }}

          {{ with .infos }}
            {{ partial "single/infos.html" . }}
          {{ end }}

          {{ with .how_get }}
            {{ partial "doi/how_get.html" . }}
          {{ end }}

          
          {{ partial "doi/hits_graph.html" . }}

          {{ with .standards }}
            {{ partial "doi/standards.html" . }}
          {{ end }}

          
        {{ end }}

        
        {{ partial "socials-side.html" . }}
      </div>
    </main>
    <script>
      /* for animating svg */
    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          const square = entry.target.querySelector('.path.line');
          const circles = entry.target.querySelectorAll('.path.circle');
      
          if (entry.isIntersecting) {
            square.classList.add('line-animation');
            circles.forEach(( thing) => thing.classList.add('circle-animation'));
            return; // if we added the class, exit the function
          }
      
          // We're not intersecting, so remove the class!
          square.classList.remove('line-animation');
          circles.forEach(( thing) => thing.classList.remove('circle-animation'));
        });
      });
      
      observer.observe(document.querySelector('.circle-line'));
    
    
    
    
      const observerlower = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          const square = entry.target.querySelector('.path.line');
          const circles = entry.target.querySelectorAll('.path.circle');
      
          if (entry.isIntersecting) {
            square.classList.add('line-animation');
            circles.forEach(( thing) => thing.classList.add('circle-animation'));
            return; // if we added the class, exit the function
          }
      
          // We're not intersecting, so remove the class!
          square.classList.remove('line-animation');
          circles.forEach(( thing) => thing.classList.remove('circle-animation'));
        });
      });
      
      observerlower.observe(document.querySelector('.circle-line-lower'));
      </script>
{{ end }}